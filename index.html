<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MK's Snake & Ladder Game</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #111;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        canvas {
            border: 3px solid #000;
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        h1 {
            margin-bottom: 20px;
            text-shadow: 0 0 5px #fff;
            font-size: 28px;
        }

        .game-container {
            position: relative;
        }

        .status-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 15px;
            border-radius: 5px;
            border: 1px solid #fff;
            font-weight: bold;
        }

        .control-panel {
            margin-top: 20px;
            display: flex;
            gap: 15px;
        }

        button {
            padding: 10px 20px;
            background: linear-gradient(to bottom, #ff4d4d, #cc0000);
            color: white;
            border: 2px solid #000;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
    </style>
</head>

<body>
    <h1>ðŸŽ® MK's Snake & Ladder Journey</h1>
    <div class="game-container">
        <div id="gameStatus" class="status-panel">Position: 1</div>
        <canvas id="board" width="600" height="600"></canvas>
    </div>
    <div class="control-panel">
        <button id="startBtn">Start Game</button>
        <button id="resetBtn">Reset Game</button>
    </div>

    <script>
        const canvas = document.getElementById("board");
        const ctx = canvas.getContext("2d");
        const startBtn = document.getElementById("startBtn");
        const resetBtn = document.getElementById("resetBtn");
        const gameStatus = document.getElementById("gameStatus");

        const rows = 10;
        const cols = 10;
        const size = 60;
        const totalSquares = rows * cols;

        let gameRunning = false;
        let gameLoop;

        const player = {
            position: 1,
            x: 0,
            y: 0,
            color: "#00ffff",
            targetX: 0,
            targetY: 0,
            moving: false
        };

        // Updated snakes with programming languages - matching image
        const snakes = {
            16: { end: 6, language: "C" },
            46: { end: 25, language: "C++" },
            49: { end: 11, language: "Java" },
            62: { end: 19, language: "Python" },
            64: { end: 60, language: "JavaScript" },
            87: { end: 24, language: "React" },
            93: { end: 73, language: "PHP" },
            95: { end: 75, language: "HTML" },
            98: { end: 78, language: "CSS" }
        };

        // Updated ladders
        const ladders = {
            1: 38,
            4: 14,
            9: 31,
            21: 42,
            28: 84,
            51: 67,
            72: 91,
            80: 99
        };

        const langIcons = {
            "C": "#5c6bc0",
            "C++": "#7e57c2",
            "Java": "#ef5350",
            "Python": "#26a69a",
            "JavaScript": "#ffca28",
            "PHP": "#7986cb",
            "HTML": "#ff7043",
            "CSS": "#29b6f6",
            "React": "#66bb6a",
            "Flask": "#bdbdbd",
            "SQL": "#9ccc65",
            "Firebase": "#ffa726",
            "Git": "#ec407a",
            "GitHub": "#78909c",
            "FastAPI": "#26c6da",
            "Node": "#8bc34a",
            "VSCode": "#42a5f5",
            "Xcode": "#5c6bc0",
            "R": "#7b1fa2",
            "Bootstrap": "#7e57c2"
        };

        // Convert position to coordinates
        function positionToCoordinates(pos) {
            let row = Math.floor((pos - 1) / cols);
            let col = (pos - 1) % cols;
            if (row % 2 === 1) col = cols - 1 - col;
            return {
                x: col * size,
                y: (rows - 1 - row) * size
            };
        }

        function drawBoard() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw border
            ctx.lineWidth = 5;
            ctx.strokeStyle = "#000000";
            ctx.strokeRect(0, 0, canvas.width, canvas.height);

            // Draw the checkerboard pattern
            let number = 1;
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const x = col * size;
                    const y = (rows - 1 - row) * size;

                    // Alternate red and white cells like in the reference image
                    if ((row + col) % 2 === 0) {
                        ctx.fillStyle = "#f44336"; // Red
                    } else {
                        ctx.fillStyle = "#ffffff"; // White
                    }
                    ctx.fillRect(x, y, size, size);

                    // Draw cell borders
                    ctx.lineWidth = 1;
                    ctx.strokeStyle = "#000";
                    ctx.strokeRect(x, y, size, size);

                    // Draw numbers
                    // Bold black text for better visibility on both red and white backgrounds
                    ctx.fillStyle = "#000000";
                    ctx.font = "bold 18px Arial";
                    ctx.fillText(number, x + 5, y + 20);

                    number++;
                }
            }

            // Draw snakes - more realistic shape like in the image
            for (const startPos in snakes) {
                const start = parseInt(startPos);
                const end = snakes[start].end;
                const language = snakes[start].language;

                const startCoord = positionToCoordinates(start);
                const endCoord = positionToCoordinates(end);

                // Create a more realistic snake path with multiple curves
                ctx.beginPath();
                ctx.moveTo(startCoord.x + size / 2, startCoord.y + size / 2);

                // Calculate midpoints for snake body curves
                const dx = endCoord.x - startCoord.x;
                const dy = endCoord.y - startCoord.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const numCurves = Math.max(2, Math.floor(distance / 100));

                // Generate control points for multiple curves
                let lastX = startCoord.x + size / 2;
                let lastY = startCoord.y + size / 2;

                for (let i = 0; i < numCurves; i++) {
                    const progress = (i + 1) / numCurves;

                    // Target point for this curve segment
                    const targetX = startCoord.x + dx * progress + size / 2;
                    const targetY = startCoord.y + dy * progress + size / 2;

                    // Control points with alternating offsets to create waves
                    const offset = 40 * (i % 2 === 0 ? 1 : -1);
                    const ctrlX = (lastX + targetX) / 2 + offset;
                    const ctrlY = (lastY + targetY) / 2 - offset;

                    ctx.quadraticCurveTo(ctrlX, ctrlY, targetX, targetY);

                    lastX = targetX;
                    lastY = targetY;
                }

                // Draw the snake body
                ctx.lineWidth = 12;
                ctx.strokeStyle = "#ffeb3b"; // Bright yellow like in the image
                ctx.stroke();

                // Draw snake head
                ctx.beginPath();
                ctx.arc(startCoord.x + size / 2, startCoord.y + size / 2, 15, 0, Math.PI * 2);
                ctx.fillStyle = "#ff9800"; // Orange head
                ctx.fill();
                ctx.lineWidth = 2;
                ctx.strokeStyle = "#000";
                ctx.stroke();

                // Draw snake eyes
                ctx.beginPath();
                ctx.arc(startCoord.x + size / 2 - 5, startCoord.y + size / 2 - 5, 3, 0, Math.PI * 2);
                ctx.arc(startCoord.x + size / 2 + 5, startCoord.y + size / 2 - 5, 3, 0, Math.PI * 2);
                ctx.fillStyle = "#000";
                ctx.fill();

                // Draw language name at snake mouth
                ctx.fillStyle = "#000";
                ctx.font = "bold 10px Arial";
                ctx.fillText(language, startCoord.x + size / 2 - 10, startCoord.y + size / 2 + 15);
            }

            // Draw ladders - more realistic like in the image
            for (const startPos in ladders) {
                const start = parseInt(startPos);
                const end = ladders[start];

                const startCoord = positionToCoordinates(start);
                const endCoord = positionToCoordinates(end);

                const ladderWidth = 16;

                // Calculate angle and length
                const dx = endCoord.x - startCoord.x;
                const dy = endCoord.y - startCoord.y;
                const angle = Math.atan2(dy, dx);
                const length = Math.sqrt(dx * dx + dy * dy);

                // Draw ladder rails with light blue color like in the image
                ctx.beginPath();
                // Left rail
                ctx.moveTo(startCoord.x + size / 2 - ladderWidth / 2, startCoord.y + size / 2);
                ctx.lineTo(endCoord.x + size / 2 - ladderWidth / 2, endCoord.y + size / 2);
                // Right rail
                ctx.moveTo(startCoord.x + size / 2 + ladderWidth / 2, startCoord.y + size / 2);
                ctx.lineTo(endCoord.x + size / 2 + ladderWidth / 2, endCoord.y + size / 2);
                ctx.lineWidth = 5;
                ctx.strokeStyle = "#00bcd4"; // Light blue for ladder rails
                ctx.stroke();

                // Draw rungs
                const steps = Math.floor(length / 20) + 1;
                for (let i = 0; i <= steps; i++) {
                    const ratio = i / steps;
                    const x = startCoord.x + ratio * dx + size / 2;
                    const y = startCoord.y + ratio * dy + size / 2;

                    // Calculate rung endpoints perpendicular to ladder direction
                    const rungX1 = x - Math.cos(angle + Math.PI / 2) * ladderWidth / 2;
                    const rungY1 = y - Math.sin(angle + Math.PI / 2) * ladderWidth / 2;
                    const rungX2 = x + Math.cos(angle + Math.PI / 2) * ladderWidth / 2;
                    const rungY2 = y + Math.sin(angle + Math.PI / 2) * ladderWidth / 2;

                    // Draw rung
                    ctx.beginPath();
                    ctx.moveTo(rungX1, rungY1);
                    ctx.lineTo(rungX2, rungY2);
                    ctx.lineWidth = 4;
                    ctx.strokeStyle = "#006064"; // Darker blue for rungs
                    ctx.stroke();
                }
            }
        }

        function drawPlayer() {
            // Calculate target position
            if (!player.moving) {
                const coord = positionToCoordinates(player.position);
                player.targetX = coord.x + size / 2;
                player.targetY = coord.y + size / 2;
            }

            // Smooth movement toward target
            const dx = player.targetX - player.x;
            const dy = player.targetY - player.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance > 1) {
                player.x += dx * 0.1;
                player.y += dy * 0.1;
                player.moving = true;
            } else {
                player.x = player.targetX;
                player.y = player.targetY;
                player.moving = false;
            }

            // Player glow effect
            ctx.shadowColor = player.color;
            ctx.shadowBlur = 20;

            // Player token with pulsating effect
            const pulseSize = 15 + Math.sin(Date.now() / 200) * 2;

            ctx.beginPath();
            ctx.arc(player.x, player.y, pulseSize, 0, Math.PI * 2);
            ctx.fillStyle = player.color;
            ctx.fill();
            ctx.closePath();

            // Reset shadow for text
            ctx.shadowBlur = 0;

            // Player label
            ctx.fillStyle = "#000";
            ctx.font = "bold 14px Arial";
            ctx.fillText("MK", player.x - 10, player.y + 5);

            // Update status
            gameStatus.textContent = `Position: ${player.position}`;
        }

        function movePlayer() {
            // Only move if not currently moving
            if (!player.moving) {
                // Roll a random number between 1-6
                const steps = Math.floor(Math.random() * 6) + 1;

                // Update position
                player.position = Math.min(player.position + steps, 100);

                // Check for snake or ladder after a brief delay
                setTimeout(() => {
                    if (!player.moving) {
                        if (snakes[player.position]) {
                            player.position = snakes[player.position].end;
                        } else if (ladders[player.position]) {
                            player.position = ladders[player.position];
                        }

                        // Check win condition
                        if (player.position >= 100) {
                            clearInterval(gameLoop);
                            gameRunning = false;
                            setTimeout(() => {
                                alert("Congratulations! You've won!");
                                startBtn.textContent = "Play Again";
                                startBtn.disabled = false;
                            }, 1000);
                        }
                    }
                }, 500);
            }
        }

        function startGame() {
            if (gameRunning) return;

            // Reset player position
            player.position = 1;
            const startCoord = positionToCoordinates(player.position);
            player.x = startCoord.x + size / 2;
            player.y = startCoord.y + size / 2;
            player.targetX = player.x;
            player.targetY = player.y;
            player.moving = false;

            gameRunning = true;
            startBtn.disabled = true;

            // Initialize the game board
            drawBoard();
            drawPlayer();

            // Set up game loop for automatic movement
            gameLoop = setInterval(() => {
                drawBoard();
                movePlayer();
                drawPlayer();
            }, 1000);
        }

        function resetGame() {
            clearInterval(gameLoop);
            gameRunning = false;

            player.position = 1;
            const startCoord = positionToCoordinates(player.position);
            player.x = startCoord.x + size / 2;
            player.y = startCoord.y + size / 2;
            player.targetX = player.x;
            player.targetY = player.y;
            player.moving = false;

            drawBoard();
            drawPlayer();

            startBtn.disabled = false;
            startBtn.textContent = "Start Game";
        }

        // Initialize game
        const startCoord = positionToCoordinates(player.position);
        player.x = startCoord.x + size / 2;
        player.y = startCoord.y + size / 2;
        player.targetX = player.x;
        player.targetY = player.y;

        drawBoard();
        drawPlayer();

        startBtn.addEventListener("click", startGame);
        resetBtn.addEventListener("click", resetGame);
    </script>
</body>

</html>